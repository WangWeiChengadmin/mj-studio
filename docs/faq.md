# 常见问题

## 通用问题

### MJ-Studio 是什么？

MJ-Studio 是一个多模型 AI 工作台，支持 AI 绘图、AI 视频生成和 AI 对话功能。

### 需要自己的 API 密钥吗？

是的。MJ-Studio 本身不提供 AI 服务，你需要配置自己的 API 上游（中转站）。

### 支持哪些模型？

- **绘图**：Midjourney、DALL-E、Flux、Gemini、豆包等
- **视频**：即梦、Veo、Sora、Grok Video
- **对话**：GPT、Claude、DeepSeek 等

### 数据存储在哪里？

所有数据（图片、对话记录等）都存储在你部署的服务器本地，不会上传到第三方。

---

## 绘图问题

### 图片生成失败怎么办？

1. 检查上游配置是否正确
2. 查看任务的错误详情
3. 确认 API 密钥余额充足
4. 尝试更换模型

### 为什么图片是模糊的？

这是防窥屏功能，点击图片可以切换显示状态。也可以在设置中关闭此功能。

### 如何使用 Midjourney 的 U/V 操作？

生成完成后，图片下方会显示 U1-U4（放大）和 V1-V4（变体）按钮。

### 参考图不生效？

- 检查所选模型是否支持参考图
- DALL-E 3 不支持参考图
- 尝试使用更清晰的参考图

---

## 视频问题

### 视频生成很慢？

视频生成通常需要 1-5 分钟，这是正常的。请耐心等待。

### 视频无法播放？

- 尝试刷新页面
- 检查浏览器是否支持该视频格式
- 尝试下载后本地播放

---

## 对话问题

### 流式输出不工作？

如果使用 Nginx 反向代理，需要配置：

```nginx
location ~ ^/api/messages/[^/]+/stream$ {
    proxy_buffering off;
    proxy_cache off;
}
```

### 对话太长导致报错？

可以使用「压缩对话」功能，将历史消息压缩为摘要。

### 如何切换模型？

在对话输入框旁边的下拉菜单中选择模型。

---

## 部署问题

### Docker 部署失败？

1. 确保 Docker 版本足够新
2. 检查端口是否被占用
3. 查看 Docker 日志：`docker logs mj-studio`

### 数据库迁移失败？

应用启动时会自动执行迁移。如果失败：

1. 检查 `data/` 目录权限
2. 查看应用日志
3. 手动执行：`pnpm db:migrate`

### 如何备份数据？

备份 `data/` 目录即可，包含：

- SQLite 数据库
- 上传的图片和视频

---

## 获取帮助

如果以上内容没有解决你的问题：

1. 查看 [GitHub Issues](https://github.com/your-org/mj-studio/issues)
2. 提交新 Issue 描述你的问题
