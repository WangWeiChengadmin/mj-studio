import{f as A,Z as H,i,o as s,w as r,N as u,a0 as D,j as t,P as I,a3 as K,ac as L,J as X,a9 as Z,a6 as _,aZ as J,ar as $,g as B,K as x,b as m,h as n,b9 as M,aX as U,d as g,t as b,c as h,n as f,a as W,z as Y,aa as P,ab as O,F as G}from"./DZ_1_TWT.js";import{i as Q,D as ee,a as E,b as R,c as te,d as ae,e as S,f as le}from"./2BvrFYEm.js";import{c as se}from"./DDAgXY8S.js";var oe=A({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const k=l;H();const e=Q();return(p,a)=>(s(),i(t(I),D(k,{type:p.as==="button"?"button":void 0,onClick:a[0]||(a[0]=q=>t(e).onOpenChange(!1))}),{default:r(()=>[u(p.$slots,"default")]),_:3},16,["type"]))}}),re=oe;const ne={slots:{overlay:"fixed inset-0",content:"bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"w-[calc(100vw-2rem)] max-w-lg rounded-lg shadow-lg ring ring-default"}},overlay:{true:{overlay:"bg-elevated/75"}},scrollable:{true:{overlay:"overflow-y-auto",content:"relative"},false:{content:"fixed",body:"overflow-y-auto"}}},compoundVariants:[{scrollable:!0,fullscreen:!1,class:{overlay:"grid place-items-center p-4 sm:py-8"}},{scrollable:!1,fullscreen:!1,class:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] overflow-hidden"}}]},ce={__name:"UModal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},scrollable:{type:Boolean,required:!1},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:null,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(l,{emit:k}){const e=l,p=k,a=K(),{t:q}=L(),w=X(),T=Z(_(e,"open","defaultOpen","modal"),p),V=J($(()=>e.portal)),j=$(()=>e.content),N=B(()=>e.dismissible?e.scrollable?{pointerDownOutside:o=>{const c=o.detail.originalEvent,v=c.target;(c.offsetX>v.clientWidth||c.offsetY>v.clientHeight)&&o.preventDefault()}}:{}:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((c,v)=>(c[v]=y=>{y.preventDefault(),p("close:prevent")},c),{})),[F,C]=se(),d=B(()=>x({extend:x(ne),...w.ui?.modal||{}})({transition:e.transition,fullscreen:e.fullscreen,overlay:e.overlay,scrollable:e.scrollable}));return(o,c)=>(s(),i(t(le),P(O(t(T))),{default:r(({open:v,close:y})=>[m(t(F),null,{default:r(()=>[m(t(ee),D({"data-slot":"content",class:d.value.content({class:[!a.default&&e.class,e.ui?.content]})},j.value,{onAfterEnter:c[0]||(c[0]=z=>p("after:enter")),onAfterLeave:c[1]||(c[1]=z=>p("after:leave"))},M(N.value)),{default:r(()=>[a.content&&(l.title||a.title||l.description||a.description)?(s(),i(t(U),{key:0},{default:r(()=>[l.title||a.title?(s(),i(t(E),{key:0},{default:r(()=>[u(o.$slots,"title",{},()=>[g(b(l.title),1)])]),_:3})):n("",!0),l.description||a.description?(s(),i(t(R),{key:1},{default:r(()=>[u(o.$slots,"description",{},()=>[g(b(l.description),1)])]),_:3})):n("",!0)]),_:3})):n("",!0),u(o.$slots,"content",{close:y},()=>[a.header||l.title||a.title||l.description||a.description||e.close||a.close?(s(),h("div",{key:0,"data-slot":"header",class:f(d.value.header({class:e.ui?.header}))},[u(o.$slots,"header",{close:y},()=>[W("div",{"data-slot":"wrapper",class:f(d.value.wrapper({class:e.ui?.wrapper}))},[l.title||a.title?(s(),i(t(E),{key:0,"data-slot":"title",class:f(d.value.title({class:e.ui?.title}))},{default:r(()=>[u(o.$slots,"title",{},()=>[g(b(l.title),1)])]),_:3},8,["class"])):n("",!0),l.description||a.description?(s(),i(t(R),{key:1,"data-slot":"description",class:f(d.value.description({class:e.ui?.description}))},{default:r(()=>[u(o.$slots,"description",{},()=>[g(b(l.description),1)])]),_:3},8,["class"])):n("",!0)],2),u(o.$slots,"actions"),e.close||a.close?(s(),i(t(re),{key:0,"as-child":""},{default:r(()=>[u(o.$slots,"close",{ui:d.value},()=>[e.close?(s(),i(Y,D({key:0,icon:l.closeIcon||t(w).ui.icons.close,color:"neutral",variant:"ghost","aria-label":t(q)("modal.close")},typeof e.close=="object"?e.close:{},{"data-slot":"close",class:d.value.close({class:e.ui?.close})}),null,16,["icon","aria-label","class"])):n("",!0)])]),_:2},1024)):n("",!0)])],2)):n("",!0),a.body?(s(),h("div",{key:1,"data-slot":"body",class:f(d.value.body({class:e.ui?.body}))},[u(o.$slots,"body",{close:y})],2)):n("",!0),a.footer?(s(),h("div",{key:2,"data-slot":"footer",class:f(d.value.footer({class:e.ui?.footer}))},[u(o.$slots,"footer",{close:y})],2)):n("",!0)])]),_:2},1040,["class"])]),_:2},1024),a.default?(s(),i(t(te),{key:0,"as-child":"",class:f(e.class)},{default:r(()=>[u(o.$slots,"default",{open:v})]),_:2},1032,["class"])):n("",!0),m(t(ae),P(O(t(V))),{default:r(()=>[l.scrollable?(s(),i(t(S),{key:0,"data-slot":"overlay",class:f(d.value.overlay({class:e.ui?.overlay}))},{default:r(()=>[m(t(C))]),_:1},8,["class"])):(s(),h(G,{key:1},[l.overlay?(s(),i(t(S),{key:0,"data-slot":"overlay",class:f(d.value.overlay({class:e.ui?.overlay}))},null,8,["class"])):n("",!0),m(t(C))],64))]),_:1},16)]),_:3},16))}};export{ce as _};
